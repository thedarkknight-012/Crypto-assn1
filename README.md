# Crypto-assn1
Full implementation on : https://github.com/thedarkknight-012/Crypto-assn1,moodle size limit has been exceeded.
Run ./package.sh to generate all files,to invidually run :
## Part 1
Run package.sh to generate all files or the diffusion analysis can be generated by running ./EE22B173_StreamCiphers.c with flags --mode diff --cipher salsa/chacha .The logs can be turned off by --detailed flag.--help is available.It has been observed that salsa is slower than chacha.
## Part 2
It is generated by --mode dec/enc --cipher salsa/chacha flags while executing  EE22B173_StreamCiphers.c and the part 1 output is given to it using --in flag.It has been written in a single program with different modes hence it is essentially like having 2 programs one for encryption and decryption.
## Part 3
Run with --mode bench flag to generate the performance of my code on 100MB.The refernce code can be run using bench_ref.c(Note that the binary has to be removed, and generated again everytime by  gcc -O3 -o bench_ref bench_ref.c salsa20.c -lrt) .The refernce code gives Salsa20: Encrypted 100 MB in 0.202281 seconds (494.36 MB/s) ,ChaCha20: Encrypted 100 MB in 0.195894 seconds (510.48 MB/s) .
### Analysis
   - Both ciphers achieve very high throughput (>490 MB/s).
   - ChaCha20 is slightly faster than Salsa20 in my implementation:
     • ChaCha20 is ≈ 3.25% faster than Salsa20 on this dataset.
   - The small performance gain is consistent with known results:
     ChaCha20 was designed by D.J. Bernstein as a refinement of Salsa20,
     with better diffusion per round and improved performance.

### Comparison with Reference Implementations
   - Bernstein’s reference implementations (from cr.yp.to):
     • Salsa20 is reported at ~450–500 MB/s on modern CPUs
     • ChaCha20 is reported at ~500–550 MB/s
   - My results are within this expected range, showing correctness
     and efficiency of the implementation.

### Observations
   - ChaCha20 consistently outperforms Salsa20, although the margin is small.
   - This aligns with the motivation for ChaCha20 becoming more widely adopted.
   - Both ciphers are highly efficient for real-world streaming encryption tasks.

### Conclusion
   - ChaCha20 is faster than Salsa20 in practice, while maintaining
     comparable security guarantees.
   - My implementation performance closely matches the reference
     benchmarks, confirming correctness.
